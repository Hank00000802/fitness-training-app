# 自訂注意事項功能說明

## 功能背景

在這個健身 APP 中，用戶可以為每個動作新增個人化的「注意事項」，並在列表中快速查看與管理。

## 功能摘要

### 1. 在動作詳情新增自訂注意事項
- 點擊「新增注意事項」即可開啟輸入框，輸入後儲存於 localStorage
- 支援多條注意事項，會依序顯示
- 可清除單筆注意事項
- 可同時管理多個動作的自訂注意事項

### 2. 全域查看與搜尋自訂注意事項
- **列表檢視**：集中呈現所有動作的自訂注意事項，方便快速瀏覽
- **搜尋功能**：可用關鍵字搜尋動作或注意事項內容
- **批次清除**：提供清除單一動作或全部注意事項
- **狀態統計**：顯示目前有多少動作包含自訂注意事項

### 3. 自訂注意事項儲存機制
- 以 localStorage 為儲存層，每個動作使用 `customTips_{exerciseId}` 鍵值
- 同步讀取 / 更新列表
- 資料格式採 JSON 陣列，便於序列化與解析

## 操作流程

### 流程 1：新增注意事項
1. 在動作詳情頁點擊「新增注意事項」
2. 輸入文字並儲存
3. 注意事項會立即出現在列表中

### 流程 2：檢視所有注意事項
1. 點擊「我的注意事項管理」
2. 查看列表與統計數
3. 可使用搜尋篩選結果
4. 可清除單一動作或全部注意事項

### 流程 3：搜尋與清除
- **搜尋**：輸入關鍵字即時篩選動作名稱與注意事項文字
- **清除單筆**：點擊單一動作的清除按鈕
- **清除全部**：點擊「清除所有注意事項」，會先跳出確認

## 資料儲存細節

### 1) 格式與大小
- 注意事項以 JSON 陣列存放，建議單筆文字不超過 500 字
- localStorage 總上限約 5MB，避免過量儲存

### 2) 關鍵值規則
- 鍵名：`customTips_{exerciseId}`
- 值：JSON 字串，內容為注意事項陣列

## 技術重點

- 使用 React Hooks 管理狀態與生命週期
- 使用 localStorage API 讀寫資料
- 即時搜尋與清除，保持 UI 即時同步
- 使用 Tailwind CSS 排版與樣式

## 例外與邊界情況

### 1) 注意事項無法讀取
**處理方式**
- 確認 localStorage 可用（瀏覽器隱私模式可能關閉）
- 對於解析失敗的舊資料嘗試回退處理
- 必要時提供重置選項

### 2) 注意事項無法儲存
**處理方式**
- 檢查 localStorage 空間是否不足
- 提示使用者縮短內容或清除部分資料
- 若仍無法寫入，提示使用者改用較短內容

## 版本紀錄

### v1.0.0
- 動作詳情頁新增自訂注意事項
- 全域清單檢視與搜尋
- 單筆與全部清除功能
- localStorage 存取與錯誤處理